# =============================================================================
# Happy Server - Docker Environment Configuration
# =============================================================================
# Copy this file to .env and customize the values for your environment
#
# ⚠️  SECURITY WARNING: Never commit the actual .env file to version control!
# ⚠️  Change all default passwords and secrets in production!
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
# NODE_ENV: Environment mode (development, production, test)
NODE_ENV=development

# PORT: Port on which the Happy Server will listen
PORT=3000

# HANDY_MASTER_SECRET: Master secret for authentication and encryption
# ⚠️  CRITICAL: Generate a strong random secret for production!
# Example: openssl rand -base64 32
HANDY_MASTER_SECRET=change-this-secret-in-production

# METRICS_PORT: Port for Prometheus metrics endpoint
METRICS_PORT=9090

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# -----------------------------------------------------------------------------
# DATABASE_URL: Full connection string for PostgreSQL
# Format: postgresql://[user]:[password]@[host]:[port]/[database]
# Note: In Docker, the host is the service name 'postgres'
DATABASE_URL=postgresql://happy:password@postgres:5432/happy_server

# POSTGRES_DB: Database name to create
POSTGRES_DB=happy_server

# POSTGRES_USER: PostgreSQL username
POSTGRES_USER=happy

# POSTGRES_PASSWORD: PostgreSQL password
# ⚠️  Change this in production!
POSTGRES_PASSWORD=password

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
# REDIS_URL: Connection string for Redis (event bus and caching)
# Format: redis://[host]:[port]
REDIS_URL=redis://redis:6379

# -----------------------------------------------------------------------------
# S3/MinIO Configuration
# -----------------------------------------------------------------------------
# S3_ENDPOINT: S3-compatible storage endpoint (MinIO in development)
# Note: Use http:// for local development, https:// for production
S3_ENDPOINT=http://minio:9000

# S3_ACCESS_KEY: S3 access key / MinIO username
# ⚠️  Change this in production!
S3_ACCESS_KEY=minioadmin

# S3_SECRET_KEY: S3 secret key / MinIO password
# ⚠️  Change this in production!
S3_SECRET_KEY=minioadmin

# S3_BUCKET: Default bucket name for file storage
S3_BUCKET=happy-server

# S3_REGION: AWS region (or 'us-east-1' for MinIO compatibility)
S3_REGION=us-east-1

# -----------------------------------------------------------------------------
# MinIO Admin Configuration
# -----------------------------------------------------------------------------
# MINIO_ROOT_USER: MinIO admin username
# ⚠️  Change this in production!
MINIO_ROOT_USER=minioadmin

# MINIO_ROOT_PASSWORD: MinIO admin password
# ⚠️  Change this in production! Minimum 8 characters.
MINIO_ROOT_PASSWORD=minioadmin

# -----------------------------------------------------------------------------
# pgAdmin Configuration (Development Only)
# -----------------------------------------------------------------------------
# PGADMIN_DEFAULT_EMAIL: Login email for pgAdmin web interface
PGADMIN_DEFAULT_EMAIL=admin@happy.local

# PGADMIN_DEFAULT_PASSWORD: Login password for pgAdmin
# ⚠️  Change this even in development!
PGADMIN_DEFAULT_PASSWORD=admin

# -----------------------------------------------------------------------------
# Optional Features
# -----------------------------------------------------------------------------
# DANGEROUSLY_LOG_TO_SERVER_FOR_AI_AUTO_DEBUGGING: Enable remote logging
# WARNING: This logs sensitive information to files. Use only for debugging!
# Set to 'true' to enable, 'false' or remove to disable
DANGEROUSLY_LOG_TO_SERVER_FOR_AI_AUTO_DEBUGGING=false

# -----------------------------------------------------------------------------
# Production-Only Settings (uncomment for production)
# -----------------------------------------------------------------------------
# SSL_CERT_PATH=/etc/ssl/certs/happy-server.crt
# SSL_KEY_PATH=/etc/ssl/private/happy-server.key
# TRUSTED_PROXY_IPS=127.0.0.1,::1

# -----------------------------------------------------------------------------
# Security Checklist for Production Deployment
# -----------------------------------------------------------------------------
# [ ] Change HANDY_MASTER_SECRET to a strong random value
# [ ] Change all database passwords (POSTGRES_PASSWORD)
# [ ] Change MinIO credentials (MINIO_ROOT_USER, MINIO_ROOT_PASSWORD)
# [ ] Update S3_ACCESS_KEY and S3_SECRET_KEY
# [ ] Set NODE_ENV=production
# [ ] Configure SSL certificates
# [ ] Review and restrict database access
# [ ] Set up regular backups
# [ ] Configure firewall rules
# [ ] Enable monitoring and alerting
# [ ] Remove or secure pgAdmin and RedisInsight in production
# [ ] Disable DANGEROUSLY_LOG_TO_SERVER_FOR_AI_AUTO_DEBUGGING
# -----------------------------------------------------------------------------
